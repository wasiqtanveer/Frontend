<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <label for="country-name">Enter country:</label>
    <input type="text" id="country-name" value="" placeholder="Country name">
    <button id="fetchData">Fetch Data</button>



    <script>
        
        
        let submit = document.querySelector("#fetchData");

        
        
       submit.addEventListener("click" , function()
    {
        let country = document.querySelector("#country-name").value;
        let url = `https://restcountries.com/v3.1/name/${country}`;

        let xhr = new XMLHttpRequest();
        xhr.open('GET' , url)



        xhr.onreadystatechange = function()
        {
            if (xhr.readyState === 4)
        {
            let data;
            data = JSON.parse(xhr.responseText)
            let capital = data[0].capital[0]
            let currency = Object.values(Object.values(data[0].currencies)[0])[1]
            let population = data[0].population
            let flag = data[0].flags.png

            // adding info to the page
            let newdiv = document.createElement("div")
            newdiv.innerHTML =`
                <h1>country : ${country}</h1>
                <p>Capital : ${capital}</p>
                <p>Currency : ${currency}</p>
                <p>Population : ${population}</p>
                <img src="${flag}" alt="countries flag png link">
            `            
            document.body.appendChild(newdiv);
        }
        else
        {
            console.error("Error fetching data");
            alert("Error fetching data");
        }
        }
               
        xhr.send()
    })
        
    
    </script>
</body>
</html>